## NFT Purchasing

In addition to ERC20 swaps, Memswap also supports buying and selling NFTs (ERC721). Although most functionality is shared, NFTs require some special handling:

**Criteria**

By default, orders are valid for any Token ID in the contract. If you want to limit your order to a particular ID or set of IDs (e.g. a trait), you can set the criteria. This uses a merkle root, similar to Seaport

**Non-Atomic Validity Checks**

Some NFTs, such as ERC721C, limit which smart contracts are allowed to transfer them, in order to enforce royalties. These NFTs can typically can only be swapped with a dedicated NFT marketplace contract like Payment Processor.

In order to support such NFTs, Memswap is able to validate that the conditions of a swap are satisfied, without actually performing the swap itself, or requiring that it happens in a single atomic transaction. For example, let’s say I want to use USDC to buy a restricted NFT listed in ETH. This can be solved across multiple txs:

1. Buy the NFT with ETH (paying full royalties)

2. Deliver NFT to user

3. Prove order has been satisified, in order to pull users’ USDC and swap it back into ETH

In order to protect themselves, the solver would privately submit the bundle of txs to builders to ensure that they all go through together.
